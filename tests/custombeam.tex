\documentclass{scrartcl}
\usepackage[latin1]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[ngerman]{babel}
\usepackage{lmodern}
\usepackage{pst-optexp}

\begin{document}
% \newpsobject{MOLensIn}{lens}{lens=0.5 0.5 0.5}
% \newpsobject{MOLensOut}{lens}{lens=1.5 1.5 1.5}
% \begin{pspicture}[showgrid=true](5,2) 
%    \pnode(0,1){A}\pnode(5,1){B}
%    \psset{n=1}
%    \begin{optexp}
%    \MOLensIn[abspos=0.5](A)(B){}
%    \MOLensOut[abspos=1](A)(B){}
%    \MOLensOut[abspos=4](A)(B){}
%    \MOLensIn[abspos=4.5](A)(B){}
% %   \addtopsstyle{Beam}{beamExtended}
%    \custombeam{%
%      \drawbeam[startpos=0 0.1, stopInside]{(A)}{1}.
%      \drawbeam[startvec=1 1]{1}{2}.
%      \drawbeam[startvec=1 0, stopInside]{2}{3}.
%      \drawbeam[startvec=1 -1]{3}{4}.
%      \drawbeam{4}{(B)}.
%    }%
%  \end{optexp}
% \end{pspicture}
% \bigskip

% \begin{pspicture}[showgrid=true](5,2) 
%    \pnode(0,1){A}\pnode(5,1){B}
%    \psset{n=1}
%    \begin{optexp}
%    \MOLensIn[abspos=0.5](A)(B){}
%    \MOLensOut[abspos=1](A)(B){}
%    \MOLensOut[abspos=4](A)(B){}
%    \MOLensIn[abspos=4.5](A)(B){}
%    \addtopsstyle{Beam}{beamExtended, fillstyle=solid, fillcolor=red, opacity=0.3}
%    \custombeam{%
%      \drawbeam[beamwidth=0.2, stopInside]{(A)}{1}.
%      \drawbeam[beamdiv=45]{1}{2}.
%      \drawbeam[stopInside]{2}{3}.
%      \drawbeam[beamdiv=-45]{3}{4}.
%      \drawbeam{4}{(B)}.
%    }%
%  \end{optexp}
% \end{pspicture}
% \bigskip

\begin{pspicture}[showgrid=true](4,5)
  \psset{n=2}
  \begin{optexp}
  \pnode(1,1){A}\pnode(1,4){G}\pnode(5,4){B}
  \optbox[endbox, labelref=relative, labeloffset=0, optboxwidth=1](G)(A){Laser}
  \lens[lens=0.5 0.5 0.5, abspos=0.3](A)(G){}
  \pinhole[abspos=0.5](A)(G){}
  \lens[lens=2, abspos=0.8](A)(G){}
  \optplate[abspos=1.5, labeloffset=1](A)(G){SLM}
  \lens[abspos=2, labelangle=180](A)(G){L}
  \pentaprism[labeloffset=1](A)(G)(B){PP}
%  \lens[abspos=1](G)(B){L}
  \optprism[n=1.3](G)([Xnodesep=2]G)([offset=-0.1]B){}
  \optbox[labeloffset=0, optboxwidth=1, endbox](G)(B){CCD}
%  \drawExtendedBeam[fillstyle=solid,fillcolor=red,opacity=0.5,beamwidth=0.2]{1}{2}{3}{4}{5}{6}{7}{8}{9}.%{3}{4}{5}{6}.%{7}.%{8}{9}.
  \addtopsstyle{Beam}{beamwidth=0.1, beamExtended, linewidth=0.2\pslinewidth,fillstyle=solid,
    fillcolor=green!20!white, beamInside}
  \custombeam{%
%    \drawbeam[nMul=1.3, beaminsidelast]{1}{2}{4}.
%    \drawbeam[beamwidth=0.2, beaminsidelast=false, stopInside=false]{(G)}{8}.
    \drawbeam[startInside, beaminsidefirst]{8}{9}.
  }%
%  \addtopsstyle{Beam}{linestyle=none, fillcolor=red}
%  \drawbeam[beamwidth=0.2, beaminsidelast=false, stopInside=false]{(G)}{8}{9}.
  % \custombeam{%
  %   \drawbeam[nMul=1.3, beaminsidelast]{1}{2}{4}.
  %   \drawbeam[nMul=0.5, stopInside=true]{4}{5}{6}{7}{8}.
  %   \drawbeam[startInside, beaminsidefirst, beamdiv=5.5]{8}{9}.
  % }%
  \end{optexp}
%  \drawbeam{1}{2}{3}{4}{5}{6}{7}{8}{([Xnodesep=-0.5]B)}.%{3}{4}{5}{6}.%{7}.%{8}{9}.
\end{pspicture}
\end{document}
