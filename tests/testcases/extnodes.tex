\makeatletter
\newcommand{\testextnodes}[3][]{%
  \begin{pspicture}(3,2)
  \@nameuse{#2}[extnode=tl,#1]#3
  \rput[t](1.5,0.9){\ttfamily\small
    \ifx\\#1\\\relax
    \begin{tabular}{@{}c@{}}\textbackslash #2\end{tabular}
    \else\begin{tabular}{@{}c@{}}\textbackslash #2\\ #1\end{tabular}\fi}
  \psset{frontlayer=false}
  \newpsstyle{MyDot}{dotstyle=B+, dotangle=45, linewidth=2\pslinewidth, linecolor=DOrange}
  \psdot[style=MyDot](\oenodeExt{})
  \@nameuse{#2}[extnode=t,#1]#3{}\psdot[style=MyDot](\oenodeExt{})
  \@nameuse{#2}[extnode=tr,#1]#3{}\psdot[style=MyDot](\oenodeExt{})
  \@nameuse{#2}[extnode=l,#1]#3{}\psdot[style=MyDot](\oenodeExt{})
  \@nameuse{#2}[extnode=c,#1]#3{}\psdot[style=MyDot](\oenodeExt{})
  \@nameuse{#2}[extnode=r,#1]#3{}\psdot[style=MyDot](\oenodeExt{})
  \@nameuse{#2}[extnode=bl,#1]#3{}\psdot[style=MyDot](\oenodeExt{})
  \@nameuse{#2}[extnode=b,#1]#3{}\psdot[style=MyDot](\oenodeExt{})
  \@nameuse{#2}[extnode=br,#1]#3{}\psdot[style=MyDot](\oenodeExt{})
  \end{pspicture}
}%
\makeatother
\testextnodes{lens}{(0,1.5)(3,1.5)}
\testextnodes[lensradius=-1]{lens}{(0,1.5)(3,1.5)}
\testextnodes{optplate}{(0,1.5)(3,1.5)}
\testextnodes{optretplate}{(0,1.5)(3,1.5)}
\testextnodes[phwidth=0.2]{pinhole}{(0,1.5)(3,1.5)}
\testextnodes{optbox}{(0,1.5)(3,1.5)}
\testextnodes{crystal}{(0,1.5)(3,1.5)}
\testextnodes{optdetector}{(0,1.5)(2,1.5)}
\testextnodes[dettype=diode]{optdetector}{(0,1.5)(2,1.5)}
\testextnodes{optdiode}{(0,1.5)(3,1.5)}
\testextnodes{doveprism}{(0,1.5)(3,1.5)}
\testextnodes{mirror}{(0,1.5)(2,1.5)(2,0)}
\bgroup
\addtopsstyle{PiezoMirror}{unit=1.5}
\testextnodes[mirrortype=piezo]{mirror}{(0,1.5)(2,1.5)(2,0)}
\egroup
\bgroup
\addtopsstyle{ExtendedMirror}{fillstyle=solid, mirrordepth=0.2, fillcolor=gray!40}
\testextnodes[mirrortype=extended]{mirror}{(0,1.5)(2,1.5)(2,0)}
\egroup
\testextnodes{optprism}{(0,1.5)(1.5,1.5)(3,1)}
\testextnodes{optgrating}{(0,1.5)(2,1.5)(2,0)}
\testextnodes{beamsplitter}{(0,1.5)(2,1.5)(2,0)}
\testextnodes[bsstyle=plate]{beamsplitter}{(0,1.5)(2,1.5)(2,0)}
\testextnodes{rightangleprism}{(0,1.5)(2.5,1)(0,0.5)}
\testextnodes{pentaprism}{(0,1.3)(2,1.3)(2,0)}

\section*{Fiber components}
\testextnodes{optfiber}{(0,1)(3,1)}
\testextnodes{optamp}{(0,1.5)(3,1.5)}
\testextnodes{optmzm}{(0,1.5)(3,1.5)}
\testextnodes{optfilter}{(0,1.5)(3,1.5)}
\testextnodes{polcontrol}{(0,1.5)(3,1.5)}
\testextnodes{optisolator}{(0,1.5)(3,1.5)}
\testextnodes{optswitch}{(0,1.5)(3,1.5)}
\testextnodes{fiberdelayline}{(0,1.5)(3,1.5)}
\testextnodes{optfiberpolarizer}{(0,1.5)(3,1.5)}
\testextnodes{fibercollimator}{(0,1.5)(3,1.5)}
\testextnodes{optcirculator}{(0,1.6)(3,1.6)(1.5,0.9)}
\testextnodes[couplersize=0.5 0.3]{optcoupler}{(0,2)(0,1)(3,2)(3,1)}
