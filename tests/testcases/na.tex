\begin{pspicture}[showgrid](3,3)
  \pnode(0,1){A}\pnode(2,1){B}\pnode(3,2){C}\pnode(2.5,3){D}
  \optplane(A)
  \optgrating(A)(B)(C)
  \pinhole[phwidth=-0.1, abspos=0.5](D)(B)
  \optplate[position=end, linestyle=none](B)(D)
  \definecolor[ps]{bl}{rgb}{%
    tx@addDict begin Red Green Blue end}%
  \drawbeam{1-2}
  \addtopsstyle{Beam}{linecolor=bl, linewidth=0.4\pslinewidth}
  \multido{\i=0+1}{60}{%
    \pstVerb{%
      \i\space 650 400 sub 59 div mul 400 add 
      tx@addDict begin wavelengthToRGB end }%
    \drawbeam[beamangle=\i\space 0.2 mul 5 sub]{2-}%
  }%
\end{pspicture}

\begin{pspicture}(3,2.7)
  \optplane[compname=A](0,1)
  \lens[lens=2 2 2, abspos=2.5](0,1)(3,1)
  \optplane[compname=B](3,1)
  \drawbeam{A}{2}{B}
  \drawbeam[beamangle=15]{A}{2}{B}
  \drawbeam[beamangle=28]{A}{2}{B}
  \drawbeam[beampos=0.99]{A}{2}{B}
  \drawbeam[beamangle=29]{A}{2}{B}
\end{pspicture}

\begin{pspicture}[showgrid=true](5,5)
  \pnode(0,2){A}\pnode(5,2){B}
  \optplane(A)
  \lens(A)(B)
  \multido{\r=0+0.25}{4}{%
    \drawbeam[beampos=\r]{-}%
  }%
\end{pspicture}

\bgroup
\psset{unit=2cm}
\begin{pspicture}[showgrid=true](5,5)
  \pnode(0,2){A}\pnode(5,2){B}
  \optplane(A)
  \lens(A)(B)
  \multido{\r=0+0.25}{4}{%
    \drawbeam[beampos=\r]{-}%
  }%
\end{pspicture}
\egroup
